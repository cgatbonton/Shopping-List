{"mappings":"AAAA,wFAAwF;AAExF,MAAM,eAAe,SAAS,aAAa,CAAC;AAC5C,MAAM,OAAO,SAAS,aAAa,CAAC;AAEpC,IAAI,QAAQ,EAAE;AAEd,SAAS,uBAAuB;IAC9B,aAAa,OAAO,CAAC,SAAS,KAAK,SAAS,CAAC;AAC/C;AAEA,SAAS,0BAA0B;IACjC,MAAM,UAAU,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC;IAChD,IAAI,QAAQ,MAAM,EAAE;QAClB,QAAQ;QACR,aAAa;QACb,KAAK,aAAa,CAAC,IAAI,YAAY;IACrC,CAAC;AACH;AAEA,SAAS,aAAa,CAAC,EAAE;IACvB,EAAE,cAAc;IAChB,IAAI,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE;IAC1B,MAAM,OAAO;QACX,IAAI,KAAK,GAAG;QACZ,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK;QACzB,UAAU,KAAK;IACjB;IACA,MAAM,IAAI,CAAC;IACX,KAAK,aAAa,CAAC,IAAI,YAAY;IACnC,EAAE,MAAM,CAAC,KAAK;AAChB;AAEA,SAAS,eAAe,EAAE,EAAE;IAC1B,MAAM,UAAU,MAAM,IAAI,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;IAC/C,QAAQ,GAAG,CAAC;IACZ,uCAAuC;IACvC,QAAQ,QAAQ,GAAG,CAAC,QAAQ,QAAQ;IACpC,KAAK,aAAa,CAAC,IAAI,YAAY;AACrC;AAEA,SAAS,WAAW,EAAE,EAAE;IACtB,QAAQ,GAAG,CAAC,OAAO;IACnB,wBAAwB;IACxB,QAAQ,MAAM,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;IACzC,KAAK,aAAa,CAAC,IAAI,YAAY;AACrC;AACA,SAAS,eAAe;IACtB,MAAM,OAAO,MACV,GAAG,CACF,CAAA,OAAQ,CAAC;kBACG,EAAE,KAAK,EAAE,CAAC,kBAAkB,EACtC,KAAK,QAAQ,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAC/B,YAAY,EAAE,KAAK,EAAE,CAAC;2BACF,EAAE,KAAK,IAAI,CAAC;+BACR,EAAE,KAAK,IAAI,CAAC,SAAS,EAAE,KAAK,EAAE,CAAC;OACvD,CAAC,EAEH,IAAI,CAAC;IACR,KAAK,SAAS,GAAG;AACnB;AAEA,aAAa,gBAAgB,CAAC,UAAU;AAExC,kDAAkD;AAClD,KAAK,gBAAgB,CAAC,SAAS,CAAA,IAAK;IAClC,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,WACnB,WAAW,WAAW,EAAE,MAAM,CAAC,KAAK;AAExC;AAEA,KAAK,gBAAgB,CAAC,SAAS,CAAA,IAAK;IAClC,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,UACnB,eAAe,WAAW,EAAE,MAAM,CAAC,KAAK;AAE5C;AAEA,KAAK,gBAAgB,CAAC,gBAAgB;AACtC,KAAK,gBAAgB,CAAC,gBAAgB;AAEtC,2BAEA,+CAA+C","sources":["exercises/57 - Shopping List/shopping-DEMO.js"],"sourcesContent":["// Topics: Custom Events, Event Delegation, local storage, DOM Events, Object Reference,\n\nconst shoppingForm = document.querySelector('.shopping');\nconst list = document.querySelector('.list');\n\nlet items = [];\n\nfunction mirrorToLocalStorage() {\n  localStorage.setItem('items', JSON.stringify(items));\n}\n\nfunction restoreFromLocalStorage() {\n  const lsItems = JSON.parse(localStorage.getItem('items'));\n  if (lsItems.length) {\n    items = lsItems;\n    // fire event\n    list.dispatchEvent(new CustomEvent('itemsUpdated'));\n  }\n}\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  if (!e.target.item.value) return;\n  const item = {\n    id: Date.now(),\n    name: e.target.item.value,\n    complete: false,\n  };\n  items.push(item);\n  list.dispatchEvent(new CustomEvent('itemsUpdated'));\n  e.target.reset();\n}\n\nfunction markAsComplete(id) {\n  const itemRef = items.find(item => item.id === id);\n  console.log(itemRef);\n  // this is just a reference to the item\n  itemRef.complete = !itemRef.complete;\n  list.dispatchEvent(new CustomEvent('itemsUpdated'));\n}\n\nfunction deleteItem(id) {\n  console.log(items, id);\n  // find the item's index\n  items = items.filter(item => item.id !== id);\n  list.dispatchEvent(new CustomEvent('itemsUpdated'));\n}\nfunction displayItems() {\n  const html = items\n    .map(\n      item => `<li class=\"shopping-item\">\n    <input value=\"${item.id}\" type=\"checkbox\" ${\n        item.complete ? `checked` : ``\n      } name=\"item-${item.id}\"/>\n    <span class=\"itemName\">${item.name}</span>\n    <button aria-label=\"Remove ${item.name} \"value=\"${item.id}\">Ã—</button>\n  </li>`\n    )\n    .join('');\n  list.innerHTML = html;\n}\n\nshoppingForm.addEventListener('submit', handleSubmit);\n\n// List is an empty div where we add items with JS\nlist.addEventListener('click', e => {\n  if (e.target.matches('button')) {\n    deleteItem(parseFloat(e.target.value));\n  }\n});\n\nlist.addEventListener('input', e => {\n  if (e.target.matches('input')) {\n    markAsComplete(parseFloat(e.target.value));\n  }\n});\n\nlist.addEventListener('itemsUpdated', displayItems);\nlist.addEventListener('itemsUpdated', mirrorToLocalStorage);\n\nrestoreFromLocalStorage();\n\n// Challenge - put the done items at the bottom\n"],"names":[],"version":3,"file":"index.64b2d131.js.map","sourceRoot":"/__parcel_source_root/"}